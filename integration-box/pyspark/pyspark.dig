+td_spark_process:
  py>: py_scripts.td-spark.process_data
  database_name: td_spark_example
  table_name: www_access_processed
  docker:
    image: 'armtd/td-ml:2019.09'
  _env:
    TD_API_KEY: ${secret:td.apikey}
    TD_API_SERVER: ${secret:td.endpoint}

+td_spark_sql:
  py>: py_scripts.td-spark.execute_sql
  database_name: td_spark_example
  table_name: www_access_processed
  docker:
    image: 'armtd/td-ml:2019.09'
  _env:
    TD_API_KEY: ${secret:td.apikey}
    TD_API_SERVER: ${secret:td.endpoint}

+td_spark_upload:
  py>: py_scripts.td-spark.upload_dataframe
  database_name: td_spark_example
  table_name: pandas_table
  docker:
    image: 'armtd/td-ml:2019.09'
  _env:
    TD_API_KEY: ${secret:td.apikey}
    TD_API_SERVER: ${secret:td.endpoint}
